{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 29,
  "lineage": "033a6f83-510d-1f5c-ae2e-9e801bfc89da",
  "outputs": {
    "bm25_job_id": {
      "value": "778907457609615",
      "type": "string"
    },
    "index_job_id": {
      "value": "825906184040303",
      "type": "string"
    },
    "repo_id": {
      "value": "1501163769383763",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "databricks_node_type",
      "name": "smallest",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "category": null,
            "fleet": null,
            "gb_per_core": null,
            "graviton": null,
            "id": "Standard_D2ads_v6",
            "is_io_cache_enabled": null,
            "local_disk": true,
            "local_disk_min_size": null,
            "min_cores": null,
            "min_gpus": null,
            "min_memory_gb": null,
            "photon_driver_capable": null,
            "photon_worker_capable": null,
            "support_port_forwarding": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "databricks_spark_version",
      "name": "latest_lts",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "beta": false,
            "genomics": false,
            "gpu": false,
            "graviton": false,
            "id": "16.4.x-scala2.12",
            "latest": true,
            "long_term_support": true,
            "ml": false,
            "photon": false,
            "scala": "2.12",
            "spark_version": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "bm25_job",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [],
            "description": null,
            "edit_mode": null,
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "778907457609615",
            "job_cluster": [
              {
                "job_cluster_key": "jc",
                "new_cluster": [
                  {
                    "__apply_policy_default_values_allow_list": [],
                    "apply_policy_default_values": false,
                    "autoscale": [],
                    "aws_attributes": [],
                    "azure_attributes": [
                      {
                        "availability": "ON_DEMAND_AZURE",
                        "first_on_demand": 0,
                        "log_analytics_info": [],
                        "spot_bid_max_price": 0
                      }
                    ],
                    "cluster_id": "",
                    "cluster_log_conf": [],
                    "cluster_mount_info": [],
                    "cluster_name": "",
                    "custom_tags": {},
                    "data_security_mode": "SINGLE_USER",
                    "docker_image": [],
                    "driver_instance_pool_id": "",
                    "driver_node_type_id": "",
                    "enable_elastic_disk": true,
                    "enable_local_disk_encryption": false,
                    "gcp_attributes": [],
                    "idempotency_token": "",
                    "init_scripts": [],
                    "instance_pool_id": "",
                    "is_single_node": false,
                    "kind": "",
                    "library": [],
                    "node_type_id": "Standard_D2ads_v6",
                    "num_workers": 1,
                    "policy_id": "",
                    "remote_disk_throughput": 0,
                    "runtime_engine": "",
                    "single_user_name": "",
                    "spark_conf": {},
                    "spark_env_vars": {
                      "VOYAGE_API_KEY": "{{secrets/rag-voyage-demo/VOYAGE_API_KEY}}"
                    },
                    "spark_version": "16.4.x-scala2.12",
                    "ssh_public_keys": [],
                    "total_initial_remote_disk_size": 0,
                    "use_ml_runtime": false,
                    "workload_type": []
                  }
                ]
              }
            ],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "rag-voyage-demo - Build BM25 Index",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": false
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "philipptrinh@gmail.com"
              }
            ],
            "run_job_task": [],
            "schedule": [],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": null,
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "jc",
                "library": [
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "faiss-cpu==1.8.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "voyageai\u003e=0.2.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "rank-bm25\u003e=0.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "transformers==4.36.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "sentence-transformers\u003e=2.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "torch==2.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "tqdm\u003e=4.66.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "python-dotenv\u003e=1.0.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "pyyaml\u003e=6.0.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "colbert-ai\u003e=0.2.19",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "flask\u003e=3.0.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  }
                ],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [
                  {
                    "parameters": [],
                    "python_file": "/Users/philipptrinh@gmail.com/rag_voyage_demo.git/scripts/build_bm25_index.py",
                    "source": ""
                  }
                ],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "build_bm25",
                "timeout_seconds": 0,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-3206594129879541.1.azuredatabricks.net/#job/778907457609615",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.databricks_node_type.smallest",
            "data.databricks_spark_version.latest_lts",
            "databricks_repo.repo",
            "databricks_secret_scope.app"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "index_job",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [],
            "description": null,
            "edit_mode": null,
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "825906184040303",
            "job_cluster": [
              {
                "job_cluster_key": "jc",
                "new_cluster": [
                  {
                    "__apply_policy_default_values_allow_list": [],
                    "apply_policy_default_values": false,
                    "autoscale": [],
                    "aws_attributes": [],
                    "azure_attributes": [
                      {
                        "availability": "ON_DEMAND_AZURE",
                        "first_on_demand": 0,
                        "log_analytics_info": [],
                        "spot_bid_max_price": 0
                      }
                    ],
                    "cluster_id": "",
                    "cluster_log_conf": [],
                    "cluster_mount_info": [],
                    "cluster_name": "",
                    "custom_tags": {},
                    "data_security_mode": "SINGLE_USER",
                    "docker_image": [],
                    "driver_instance_pool_id": "",
                    "driver_node_type_id": "",
                    "enable_elastic_disk": true,
                    "enable_local_disk_encryption": false,
                    "gcp_attributes": [],
                    "idempotency_token": "",
                    "init_scripts": [],
                    "instance_pool_id": "",
                    "is_single_node": false,
                    "kind": "",
                    "library": [],
                    "node_type_id": "Standard_D2ads_v6",
                    "num_workers": 1,
                    "policy_id": "",
                    "remote_disk_throughput": 0,
                    "runtime_engine": "",
                    "single_user_name": "",
                    "spark_conf": {},
                    "spark_env_vars": {
                      "VOYAGE_API_KEY": "{{secrets/rag-voyage-demo/VOYAGE_API_KEY}}"
                    },
                    "spark_version": "16.4.x-scala2.12",
                    "ssh_public_keys": [],
                    "total_initial_remote_disk_size": 0,
                    "use_ml_runtime": false,
                    "workload_type": []
                  }
                ]
              }
            ],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "rag-voyage-demo - Build FAISS Index",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": false
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "philipptrinh@gmail.com"
              }
            ],
            "run_job_task": [],
            "schedule": [],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": null,
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "jc",
                "library": [
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "faiss-cpu==1.8.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "voyageai\u003e=0.2.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "rank-bm25\u003e=0.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "transformers==4.36.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "sentence-transformers\u003e=2.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "torch==2.2.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "tqdm\u003e=4.66.2",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "python-dotenv\u003e=1.0.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "pyyaml\u003e=6.0.1",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "colbert-ai\u003e=0.2.19",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  },
                  {
                    "cran": [],
                    "egg": "",
                    "jar": "",
                    "maven": [],
                    "pypi": [
                      {
                        "package": "flask\u003e=3.0.0",
                        "repo": ""
                      }
                    ],
                    "requirements": "",
                    "whl": ""
                  }
                ],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [
                  {
                    "parameters": [],
                    "python_file": "/Users/philipptrinh@gmail.com/rag_voyage_demo.git/apps/cli/build_index.py",
                    "source": ""
                  }
                ],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "build_index",
                "timeout_seconds": 0,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-3206594129879541.1.azuredatabricks.net/#job/825906184040303",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.databricks_node_type.smallest",
            "data.databricks_spark_version.latest_lts",
            "databricks_repo.repo",
            "databricks_secret_scope.app"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_repo",
      "name": "repo",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "branch": "main",
            "commit_hash": "dcbff6769741ba7f8ba7686ba45925572f543148",
            "git_provider": "gitHub",
            "id": "1501163769383763",
            "path": "/Users/philipptrinh@gmail.com/rag_voyage_demo.git",
            "sparse_checkout": [],
            "tag": null,
            "url": "https://github.com/its-philipp/rag_voyage_demo.git",
            "workspace_path": "/Workspace/Users/philipptrinh@gmail.com/rag_voyage_demo.git"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_secret_scope",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "backend_type": "DATABRICKS",
            "id": "rag-voyage-demo",
            "initial_manage_principal": null,
            "keyvault_metadata": [],
            "name": "rag-voyage-demo"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    }
  ],
  "check_results": null
}
